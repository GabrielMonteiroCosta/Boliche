use Boliche
drop table Clientes
create table Clientes
(
	id int,
	nome varchar(100) not null,
	CPF varchar (11) not null,
	status bit not null,
	telefone varchar(20) null,
	historico int null
)

 
declare @id int = (select isnull(max(id)+1,1) from Clientes)
declare @nome varchar(100)
declare @CPF varchar (11)
declare @status bit
declare @telefone varchar(20)
declare @historico int
 
insert into Clientes
(
	nome,
	CPF,
	status,
	telefone, 
	id,
	historico
)
values 
(
	@nome, @CPF, @status, @telefone, @id, @historico
);
select * from Clientes
select * from Produtos
delete from Produtos where idItem = '1'
 
drop table Produtos
create table Produtos 
(
	idItem int not null,
	descricao varchar(100) not null,
	quantidade int not null,
	precoVenda smallmoney not null,
	status bit not null
);
 
declare @idItem int = (select isnull(max(idItem)+1,1) from Produtos)
declare @descricao varchar(100) 
declare @quantidade int
declare @precoVenda smallmoney

delete from Produtos

insert into Produtos
(
	idItem,
	Descricao,
	Quantidade,
	PrecoVenda
)
values 
(
	@IdItem,
	@descricao,
	@quantidade,
	@precoVenda
);

CREATE TABLE FilaEspera (
    Id INT IDENTITY PRIMARY KEY,
    UserId INT NOT NULL,
    DataEntrada DATETIME NOT NULL DEFAULT GETDATE(),
    Status NVARCHAR(50) NOT NULL DEFAULT 'Aguardando'
);

CREATE PROCEDURE AdicionarAFila
    @UserId INT
AS
BEGIN
    DECLARE @NumeroDePessoas INT;
    
    -- Aqui, você deve substituir 'PistaOcupada' pelo nome da sua tabela que mantém os usuários na pista
    SELECT @NumeroDePessoas = COUNT(*)
    FROM PistaOcupada;

    IF @NumeroDePessoas >= 6
    BEGIN
        -- Adiciona o usuário à fila de espera
        INSERT INTO FilaEspera (UserId)
        VALUES (@UserId);
    END
    ELSE
    BEGIN
        -- Código para adicionar o usuário à lista de usuários ocupando a pista
        -- Substitua pelo seu código específico
    END
END

CREATE PROCEDURE LiberarVagaPista
AS
BEGIN
    DECLARE @ProximoUsuarioId INT;
    
    -- Seleciona o próximo usuário na fila, com base na ordem de entrada
    SELECT TOP 1 @ProximoUsuarioId = UserId
    FROM FilaEspera
    ORDER BY DataEntrada;

    IF @ProximoUsuarioId IS NOT NULL
    BEGIN
        -- Remove o usuário da fila de espera
        DELETE FROM FilaEspera
        WHERE UserId = @ProximoUsuarioId;
        
        -- Adiciona o usuário à lista de usuários ocupando a pista
        -- Substitua pelo seu código específico
    END
END
