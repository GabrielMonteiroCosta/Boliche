use Boliche
drop table Clientes
drop table Fila
create table Clientes
(
	id int not null primary key,
	nome varchar(100) not null,
	CPF varchar (11) not null,
	status bit not null,
	telefone varchar(20) null,
	historico int not null)

drop table Produtos
 
declare @id int = (select isnull(max(id)+1,1) from Clientes)
declare @nome varchar(100)
declare @CPF varchar (11)
declare @status bit
declare @telefone varchar(20)
declare @historico int

insert into Clientes
(
	nome,
	CPF,
	status,
	telefone, 
	id,
	historico
)
values 
(
	@nome, @CPF, @status, @telefone, @id, @historico
);



delete from Clientes where id = '6'
 
create table Produtos 
(
	idItem int not null primary key,
	descricao varchar(100) not null,
	quantidade int not null,
	precoVenda smallmoney not null,
	status bit not null
);

 
declare @idItem int = (select isnull(max(idItem)+1,1) from Produtos)
declare @descricao varchar(100) 
declare @quantidade int
declare @precoVenda smallmoney

delete from Produtos

insert into Produtos
(
	idItem,
	Descricao,
	Quantidade,
	PrecoVenda
)
values 
(
	@IdItem,
	@descricao,
	@quantidade,
	@precoVenda
);


CREATE TABLE Pista (
	idPista int,
	status bit not null,
	HorarioEntrada datetime,
	HorarioSaida datetime,
	idUser int foreign key references Clientes(id)
	histUser int foreign key references Clientes(historico)
);
INSERT INTO Pista (idPista, status)
VALUES (@idPista, @status);

drop table FilaEspera
select * from Pista
drop table Pista

declare @quantidadePista int
declare @idPista int = '6'
declare @horarioEntrada datetime
declare @horarioSaida datetime
declare @idUser int

select * from FilaEspera
select * from Clientes
select * from Produtos
select * from Pista
                     
CREATE TABLE filaEspera (
    idFila int identity primary key,
    idUser int,
    dataInsercao datetime default GETDATE()
);

CREATE TABLE PedidoPista (
	idPista int not null,
	idItem int not null,
	quantidadePedido int not null,
	valorTotal smallMoney not null,
	);


	Select * from PedidoPista
